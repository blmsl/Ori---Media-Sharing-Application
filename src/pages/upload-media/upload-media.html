<!--
  Generated template for the UploadMediaPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

    <ion-navbar>
        <ion-title>Ori</ion-title>
    </ion-navbar>

</ion-header>


<ion-content padding>
    <ion-grid>
        <form #uploadForm="ngForm">
            <button ion-button icon-left *ngIf="!mediaData" (click)="takePicture()">
          <ion-icon name="camera"></ion-icon>Take a Photo</button>
            <img *ngIf="mediaData" id="img-preview" [src]="mediaData">
            <ion-row>
                <ion-input *ngIf="!mediaData" type="file" placeholder="Upload a file" name="file" accept="image/*|video/*" (change)="setFile($event)"
                    ngModel></ion-input>
            </ion-row>

            <ion-row>
                <ion-item>
                    <ion-input [(ngModel)]="media.title" type="text" name="title" placeholder="Title" required></ion-input>
                </ion-item>
            </ion-row>
            <ion-row>
                <ion-item>
                    <ion-textarea [(ngModel)]="media.description" name="description" placeholder="Description"></ion-textarea>
                </ion-item>
            </ion-row>
            <ion-row>
                <ion-col>
                    <button ion-button type="submit" (click)="startUpload()" [disabled]="!uploadForm.valid">Upload</button>
                </ion-col>
                <ion-col>
                    <button ion-button (click)="cancel()">Cancel</button>
                </ion-col>
            </ion-row>
        </form>
    </ion-grid>
</ion-content>